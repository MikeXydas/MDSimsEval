

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. AnalysisActor &mdash; MDSimsEval 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Rg and SASA Analysis" href="RgSasaAnalysis.html" />
    <link rel="prev" title="2. Reading the simulations" href="ReadingData.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MDSimsEval
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Prerequisites.html">1. Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="ReadingData.html">2. Reading the simulations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. AnalysisActor</a></li>
<li class="toctree-l1"><a class="reference internal" href="RgSasaAnalysis.html">4. Rg and SASA Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="RmsfAnalysis.html">5. RMSF Analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MDSimsEval</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">3. </span>AnalysisActor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/pages/AnalysisActor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-MDSimsEval.AnalysisActorClass">
<span id="analysisactor"></span><h1><span class="section-number">3. </span>AnalysisActor<a class="headerlink" href="#module-MDSimsEval.AnalysisActorClass" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor">
<em class="property">class </em><code class="sig-prename descclassname">MDSimsEval.AnalysisActorClass.</code><code class="sig-name descname">AnalysisActor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topology</span></em>, <em class="sig-param"><span class="n">trajectory</span></em>, <em class="sig-param"><span class="n">drug_name</span></em>, <em class="sig-param"><span class="n">sasa_file</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">salts_directory</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor" title="Permalink to this definition">¶</a></dt>
<dd><p>The AnalysisActor is the core object which inputs a single topology and trajectory and performs the analysis.</p>
<p>The class will be responsible for reading, running calculations and storing the results. The role of the class
is mainly “structural” since it is the base input of all of our analysis functions. In the future a caching
mechanism should be added so as to not have to perform multiple times the same calculations and instead read
them from the disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Solvent Accessible Surface Area (SASA) and Salt bridges</strong> are calculated outside of the package.
More info on <a class="reference internal" href="ReadingData.html#reading-salt-sasa"><span class="std std-ref">SASA and Salt Bridges</span></a>.</p>
</div>
<p class="rubric">Example</p>
<p>Example on one simulation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MDSimsEval.AnalysisActorClass</span> <span class="kn">import</span> <span class="n">AnalysisActor</span>
<span class="n">ligand</span> <span class="o">=</span> <span class="n">AnalysisActor</span><span class="p">(</span><span class="s1">&#39;topology&#39;</span><span class="p">,</span> <span class="s1">&#39;trajectory&#39;</span><span class="p">,</span> <span class="s1">&#39;ligand_name&#39;</span><span class="p">)</span>    <span class="c1"># No SASA or Salt Bridges files provided</span>

<span class="n">ligand</span><span class="o">.</span><span class="n">perform_analysis</span><span class="p">([</span><span class="s2">&quot;RMSF&quot;</span><span class="p">,</span> <span class="s2">&quot;Rg&quot;</span><span class="p">])</span>    <span class="c1"># Calculate the Rg and the RMSF of the simulation</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ligand</span><span class="o">.</span><span class="n">get_radius_of_gyration</span><span class="p">()))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">2500</span>
</pre></div>
</div>
<p>Example on the whole <code class="docutils literal notranslate"><span class="pre">analysis_actors_dict</span></code> (probably what you want)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">MDSimsEval.utils</span> <span class="kn">import</span> <span class="n">create_analysis_actor_dict</span>
<span class="n">analysis_actors_dict</span> <span class="o">=</span> <span class="n">create_analysis_actor_dict</span><span class="p">(</span><span class="s1">&#39;path_to_data_directory/&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ligand</span> <span class="ow">in</span> <span class="n">analysis_actors_dict</span><span class="p">[</span><span class="s1">&#39;Agonists&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">analysis_actors_dict</span><span class="p">[</span><span class="s1">&#39;Antagonists&#39;</span><span class="p">]:</span>
    <span class="n">ligand</span><span class="o">.</span><span class="n">perform_analysis</span><span class="p">(</span><span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RMSF&quot;</span><span class="p">,</span> <span class="s2">&quot;PCA&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topology</strong> (<em>str</em>) – The topology filepath (.pdb, .gro etc)</p></li>
<li><p><strong>trajectory</strong> (<em>str</em>) – The trajectory filepath (.xtc etc)</p></li>
<li><p><strong>drug_name</strong> (<em>str</em>) – The name of the agonist or antagonist</p></li>
<li><p><strong>sasa_file</strong> (<em>str</em><em>, </em><em>optional</em>) – Full path of the sasa.xvg file generated by Gromacs</p></li>
<li><p><strong>salts_directory</strong> (<em>str</em><em>, </em><em>optional</em>) – Full path of the salts directory generated by the vmd extension</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.uni">
<code class="sig-name descname">uni</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.uni" title="Permalink to this definition">¶</a></dt>
<dd><p>The universe of atoms created by MDAnalysis tool
(<a class="reference external" href="https://www.mdanalysis.org/docs/documentation_pages/core/universe.html">MDAnalysis.core.universe</a>)</p>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.mdtraj">
<code class="sig-name descname">mdtraj</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.mdtraj" title="Permalink to this definition">¶</a></dt>
<dd><p>The trajectory of atoms created by MDTraj tool
(<a class="reference external" href="http://mdtraj.org/latest/api/generated/mdtraj.Trajectory.html#mdtraj.Trajectory">mdtraj.Trajectory</a>)</p>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.drug_name">
<code class="sig-name descname">drug_name</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.drug_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The ligand name initialized in the construction of the object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.rg_res">
<code class="sig-name descname">rg_res</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.rg_res" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius of gyration of each frame (<a class="reference external" href="https://www.mdanalysis.org/MDAnalysisTutorial/trajectories.html#trajectory-analysis">MDAnalysisRg</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of double</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.rmsf_res">
<code class="sig-name descname">rmsf_res</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.rmsf_res" title="Permalink to this definition">¶</a></dt>
<dd><p>RMSF of each atom of the <strong>protein</strong> (<a class="reference external" href="https://www.mdanalysis.org/pmda/api/rmsf.html">MDAnalysisRMSF</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of double</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.pca_res">
<code class="sig-name descname">pca_res</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.pca_res" title="Permalink to this definition">¶</a></dt>
<dd><p>Object containing eigenvectors and eigenvalues of CA atoms covariance matrix
(<a class="reference external" href="https://www.mdanalysis.org/docs/documentation_pages/analysis/pca.html#MDAnalysis.analysis.pca.PCA">MDAnalysis.analysis.pca.PCA</a>)</p>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.pca_xyz">
<code class="sig-name descname">pca_xyz</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.pca_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>The coordinates of the atoms selected for PCA</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray[#atoms_selected * 3, #frames]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.sasa_res">
<code class="sig-name descname">sasa_res</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.sasa_res" title="Permalink to this definition">¶</a></dt>
<dd><p>The calculation currently is performed outside of the pipeline
using <a class="reference external" href="http://manual.gromacs.org/documentation/5.1/onlinehelp/gmx-sasa.html">gromacs</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray[2, #frames]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.hbonds">
<code class="sig-name descname">hbonds</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.hbonds" title="Permalink to this definition">¶</a></dt>
<dd><p>A list containing the atom indices involved in
each of the identified hydrogen bonds at each frame.
Each element in the list is an array where each row contains
three integer indices, (d_i, h_i, a_i),
such that d_i is the index of the donor atom,
h_i the index of the hydrogen atom,
and a_i the index of the acceptor atom involved
in a hydrogen bond which occurs in that frame.
(<a class="reference external" href="http://mdtraj.org/1.9.3/api/generated/mdtraj.wernet_nilsson.html?highlight=wernet#mdtraj.wernet_nilsson">MDtraj</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray[#frames, #hbonds_of_frame, 3]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.salt_bridges_df">
<code class="sig-name descname">salt_bridges_df</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.salt_bridges_df" title="Permalink to this definition">¶</a></dt>
<dd><p>A pd.DataFrame with the first two columns [“Residue1”, “Residue2”] being the
residue names that form the salt bridge and the next #frames column the distance
between these two residues (<a class="reference external" href="https://www.ks.uiuc.edu/Research/vmd/plugins/saltbr/">VMD plugin</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pd.DataFrame[#NumberOfSaltBridges, 2 + DistancesPerFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.salt_bridges_over_time">
<code class="sig-name descname">salt_bridges_over_time</code><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.salt_bridges_over_time" title="Permalink to this definition">¶</a></dt>
<dd><p>A vector of size #frames containing the number of active salt
bridges per frame</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray[#frames]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.get_frames_number">
<code class="sig-name descname">get_frames_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.get_frames_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of frames of the trajectory</p>
</dd></dl>

<dl class="py method">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints basic info of the simulation</p>
</dd></dl>

<dl class="py method">
<dt id="MDSimsEval.AnalysisActorClass.AnalysisActor.perform_analysis">
<code class="sig-name descname">perform_analysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDSimsEval.AnalysisActorClass.AnalysisActor.perform_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the analysis methods for calculating the metrics specified by metrics argument</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metrics</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – <div class="line-block">
<div class="line">A list of the metrics to be calculated. Available:</div>
<div class="line">Empty List []: All of the available metrics will be calculated (default)</div>
<div class="line">’Rg’: Radius of Gyration</div>
<div class="line">’RMSF’: Root Mean Square Fluctuations</div>
<div class="line">’SASA’: Solvent Accessible Surface Area</div>
<div class="line">’PCA’: Principal Component Analysis</div>
<div class="line">’Hbonds’: Hydrogen Bonds</div>
<div class="line">’Salt’: Calculate number of salt bridges</div>
</div>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="RgSasaAnalysis.html" class="btn btn-neutral float-right" title="4. Rg and SASA Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ReadingData.html" class="btn btn-neutral float-left" title="2. Reading the simulations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Mike Xydas

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>